<% include ../partials/header %>

  <form action="<%= fAction %>" method="POST">
    <p>
      <%= fQuestion %>
    </p>
    <p>
      <button id="maleSelect" name="maleSelect"><i class="fas fa-mars fa-5x genderButton"></i></button>
      <button id="femaleSelect" name="femaleSelect"><i class="fas fa-venus fa-5x genderButton"></i></button>
      <button id="otherSelect" name="otherSelect"><i class="fas fa-genderless fa-5x genderButton"></i></button>
    </p>
    <input id="genderField" hidden type="text" name="<%= fValue %>">

    <div class="row">
      <div class="col s5 offset-s7">
        <button name="nextButton" class="btn waves-effect waves-light blue darken-3" type="submit">Next question</button>
      </div>
    </div>

  </form>

  <script>
    $('#maleSelect').click(function (e) {
      e.preventDefault();
       $('#maleSelect').toggleClass('active');
      $('#genderField')[0].value = "0"
      turnOffFemaleButton();
      turnOffOtherButton();
      localStorage.setItem("gender", 0)
    })

    $('#femaleSelect').click(function (e) {
      $('#femaleSelect').toggleClass('active');
      e.preventDefault();
      $('#genderField')[0].value = "1"
      turnOffMaleButton();
      turnOffOtherButton();
      localStorage.setItem("gender", 1)
    })

    $('#otherSelect').click(function (e) {
      e.preventDefault();
      $('#genderField')[0].value = "2"
      $('#otherSelect').toggleClass('active');
      turnOffMaleButton();
      turnOffFemaleButton();
      localStorage.setItem("gender", 2)
    })

    function turnOffMaleButton(){
      if ($('#maleSelect').hasClass( 'active' )){
        $('#maleSelect').toggleClass('active');
      }
    }
    function turnOffFemaleButton(){
      if ($('#femaleSelect').hasClass( 'active' )){
        $('#femaleSelect').toggleClass('active');
      }
    }
    function turnOffOtherButton(){
      if ($('#otherSelect').hasClass( 'active' )){
        $('#otherSelect').toggleClass('active');
      }
    }
  </script>
  <% include ../partials/footer %>